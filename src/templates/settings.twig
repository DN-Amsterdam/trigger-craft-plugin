{% import "_includes/forms" as forms %}

{{ forms.autosuggestField( {
    label:        'Deploy Webhook' | translate( 'trigger' ),
    id:           'webhookUrl',
    required:     false,
    name:         'webhookUrl',
    class:        'code',
    value:        settings.webhookUrl,
    autofocus:    true,
    errors:       settings.getErrors( 'webhookUrl' ),
    instructions: 'Provide a webhook URL that will trigger a site build when receiving a POST request.' | translate( 'trigger' ),
    suggestions:  craft.cp.getEnvSuggestions()
}) }}

{{ forms.lightswitchField({
    label: 'Active' | translate( 'trigger' ),
    id: 'active',
    required: false,
    name: 'active',
    on: settings.active,
    errors: settings.getErrors('active'),
    instructions: 'Switch off to keep the deploy webhook from being pinged.' | translate( 'trigger' ),
}) }}

{{ forms.lightswitchField({
    label: 'Deploy on Content Change' | translate( 'trigger' ),
    id: 'deployOnContentChange',
    required: false,
    name: 'deployOnContentChange',
    on: settings.deployOnContentChange,
    errors: settings.getErrors('deployOnContentChange'),
    instructions: 'Automatically trigger a deployment after content changes.' | translate( 'trigger' ),
}) }}
